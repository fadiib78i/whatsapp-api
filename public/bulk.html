<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>WhatsApp Bulk Sender</title>
  <style>
    body { background:#f5f5f5; font-family:Arial; padding:40px; }
    .box {
      background:#fff; padding:25px; border-radius:10px;
      max-width:500px; margin:auto; box-shadow:0 0 10px #ccc;
    }
    input, textarea, button { width:100%; margin-top:10px; padding:10px; }
    textarea { height:140px; }
    button { background:#25D366; color:#fff; border:none; cursor:pointer; }
  </style>
</head>
<body>
<div class="box">
  <h2>üì§ WhatsApp Bulk Sender</h2>
  <label>WhatsApp ID</label>
  <input type="text" id="id" placeholder="office-1"/>
  <label>Message Template</label>
  <textarea id="message" placeholder="◊©◊ú◊ï◊ù ◊ï◊ë◊®◊õ◊î <mother> ..."></textarea>
  <label>Excel File</label>
  <input type="file" id="file" accept=".xlsx"/>
  <button onclick="sendBulk()">Send Now</button>
  <pre id="status"></pre>
</div>
<script>
async function sendBulk() {
  const id = document.getElementById('id').value;
  const message = document.getElementById('message').value;
  const file = document.getElementById('file').files[0];
  const status = document.getElementById('status');

  if (!id || !message || !file) {
    status.textContent = '‚ùå Missing fields';
    return;
  }

  const fd = new FormData();
  fd.append('id', id);
  fd.append('message', message);
  fd.append('file', file);

  status.textContent = '‚è≥ Sending...';

  const res = await fetch('/send-bulk', { method: 'POST', body: fd });
  const data = await res.json();

  status.textContent = JSON.stringify(data, null, 2);
}
</script>
</body>
</html>